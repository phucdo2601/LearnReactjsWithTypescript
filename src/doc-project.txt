- N√≥i v·ªÅ React Hook, ƒë√£ c√≥ nhi·ªÅu b√†i vi·∫øt v·ªÅ useState, n√≥ cho ph√©p ch√∫ng ta s·ª≠ d·ª•ng state v√† c√°c ch·ª©c nƒÉng kh√°c c·ªßa React (life cycle, side effect,...) m√† kh√¥ng c·∫ßn vi·∫øt class component.\
    - Vd:
        import React, { useState } from 'react';

        function Example() {
        const [count, setCount] = useState(0);

        return (
            <div>
            <p>You clicked {count} times</p>
            <button onClick={() => setCount(count + 1)}>
                Click me
            </button>
            </div>
        );
        }

·ªû tr√™n l√† 1 v√≠ d·ª• ƒë∆°n gi·∫£n; useState hook kh·ªüi t·∫°o initialState l√† tham s·ªë truy·ªÅn v√†o, tr·∫£ v·ªÅ c·∫∑p state value count, v√† 1 h√†m d√πng ƒë·ªÉ update state ƒë√≥ setCount, v√¨ useState hook n√†y c≈©ng d·ªÖ hi·ªÉu n√™n m√¨nh ch·ªâ n√≥i ng·∫Øn g·ªçn ngang ƒë√¢y th√¥i nh√©.

T·ª´ useState ƒë·∫øn useReducer
V·∫≠y n·∫øu trong tr∆∞·ªùng h·ª£p logic state c·ªßa component tr·ªü n√™n l·ªõn v√† ph·ª©c t·∫°p h·ª£p th√¨ khi ƒë√≥ d√πng ta s·∫Ω d√πng m·ªôt h√†m hook l√† useReducer s·∫Ω gi√∫p ch√∫ng ta d·ªÖ qu·∫£n l√Ω v√† t·ªï ch·ª©c state t·ªët h∆°n.

V·∫≠y useReducer l√† g√¨, th·ª±c ch·∫•t l√† l√† m·ªôt phi√™n b·∫£n n√¢ng cao c·ªßa useState, d√πng trong tr∆∞·ªùng h·ª£p local state c·ªßa component ph·ª©c t·∫°p, c√≥ nhi·ªÅu action l√†m thay ƒë·ªïi state ƒë√≥. Thay v√¨ c√°c b·∫°n d√πng nhi·ªÅu useState ho·∫∑c useState v·ªõi value l√† nested object/array v√† vi·∫øt nhi·ªÅu function ƒë·ªÉ thay ƒë·ªïi state th√¨ b√¢y gi·ªù c√°c b·∫°n c√≥ th·ªÉ t·ªï ch·ª©c state v√† c√°c action l√†m thay ƒë·ªïi state ƒë√≥ 1 c√°ch logic nh·ªù useReducer

Reducer l√† g√¨
ƒê·ªÉ s·ª≠ d·ª•ng useReducer hook; ƒë·∫ßu ti√™n ch√∫ng ta c·∫ßn bi·∫øt reducer l√† g√¨, ƒë∆°n gi·∫£n l√† m·ªôt h√†m c√≥ 2 tham s·ªë l√† state, action v√† tr·∫£ v·ªÅ new state sau khi th·ª±c hi·ªán m·ªôt action, h√£y t∆∞·ªüng t∆∞·ª£ng reducer nh∆∞ l√† m·ªôt b·ªô chuy·ªÉn ƒë·ªïi, nh·∫≠n input, th·ª±c hi·ªán action t√°c ƒë·ªông ƒë·∫øn input ƒë√≥, r·ªìi t·∫°o ra output.

(state, action) => newState

Ch√∫ng ta c√πng xem qua m·ªôt reducer c·ª• th·ªÉ nh√©:

const todoReducer = (state, action) => {
  switch (action.type) {
    case 'DO_TODO':
      return state.map(todo => {
        if (todo.id === action.id) {
          return { ...todo, complete: true };
        } else {
          return todo;
        }
      });
    case 'UNDO_TODO':
      return state.map(todo => {
        if (todo.id === action.id) {
          return { ...todo, complete: false };
        } else {
          return todo;
        }
      });
    default:
      return state;
  }
};

·ªû tr√™n l√† m·ªôt Todo reducer; state ban ƒë·∫ßu l√† list items todo, c√≥ 2 ki·ªÉu action type ƒë·ªÉ chuy·ªÉn ƒë·ªïi 2 tr·∫°ng th√°i t∆∞∆°ng ·ª©ng c·ªßa item l√† complete: true or false.

V√† s·ª≠ s·ª•ng todoReducer ƒë√≥ nh∆∞ sau:

const initialTodos = [
  {
    id: 'a',
    task: 'Learn React',
    complete: false,
  },
  {
    id: 'b',
    task: 'Learn Firebase',
    complete: false,
  },
];

const action = {
  type: 'DO_TODO',
  id: 'a',
};

const newTodos = todoReducer(initialTodos, action);

console.log(newTodos);
// [
//   {
//     id: 'a',
//     task: 'Learn React',
//     complete: true,
//   },
//   {
//     id: 'b',
//     task: 'Learn Firebase',
//     complete: false,
//   },
// ]

ƒê√≥ l√† 1 v√≠ d·ª• ƒë∆°n gi·∫£n v·ªÅ reducer, c≈©ng d·ªÖ hi·ªÉu ƒë√∫ng kh√¥ng n√†o, v√† b√¢y gi·ªù ch√∫ng ta c√πng t√¨m hi·ªÉu useReducer hook trong React nh√©

useReducer hook
Nh∆∞ ƒë√£ n√≥i ·ªü tr√™n useReducer hook ƒë∆∞·ª£c s·ª≠ d·ª•ng trong tr∆∞·ªùng h·ª£p component c√≥ state ph·ª©c t·∫°p v√† c√≥ nhi·ªÅu action type l√†m thay ƒë·ªïi state ƒë√≥.

useReducer function nh·∫≠n v√†o reducer v√† initialState kh·ªüi t·∫°o ban ƒë·∫ßu, tr·∫£ v·ªÅ state hi·ªán t·∫°i v√† dispatch function d√πng ƒë·ªÉ trigger 1 action

Ok, ch√∫ng ta s·∫Ω vi·∫øt m·ªôt TodoApp c√≥ th·ªÉ render ra list item v√† toggle item ƒë√≥ ƒë√£ ho√†n th√†nh hay ch∆∞a nh√©, m√¨nh s·∫Ω s·ª≠ d·ª•ng l·∫°i todoReducer v√† initialTodos nh∆∞ tr√™n nh√©

import React from 'react';

const initialTodos = [...]; // same as above
const todoReducer = (state, action) => newState; //same as above

const App = () => {
  const [todos, dispatch] = React.useReducer(
    todoReducer,
    initialTodos
  );

  const handleChange = todo => {
    dispatch({
      type: todo.complete ? 'UNDO_TODO' : 'DO_TODO',
      id: todo.id,
    });
  };

  return (
    <ul>
      {todos.map(todo => (
        <li key={todo.id}>
          <label>
            <input
              type="checkbox"
              checked={todo.complete}
              onChange={() => handleChange(todo)}
            />
            {todo.task}
          </label>
        </li>
      ))}
    </ul>
  );
};

export default App;

·ªû v√≠ d·ª• tr√™n:

React.useReducer: d√≤ng n√†y s·ª≠ d·ª•ng useReducer v·ªõi 2 tham s·ªë todoReducer v√† initialTodos, tr·∫£ v·ªÅ todos hi·ªán t·∫°i v√† dispatch d√πng ƒë·ªÉ send action ƒë·∫øn reducer l√†m thay ƒë·ªïi list todos
handleChange: h√†m n√†y d√πng ƒë·ªÉ dispatch action chuy·ªÉn ƒë·ªïi tr·∫°ng th√°i c·ªßa item l√† ho√†n th√†nh or ch∆∞a ho√†n th√†nh
Ti·∫øp theo ch√∫ng ta s·∫Ω render ra list item todos ƒëi k√®m v·ªõi 1 checkbox ƒë·ªÉ switch tr·∫°ng th√°i complete c·ªßa item ƒë√≥, m·ªói l·∫ßn check or uncheck th√¨ s·∫Ω call handleChange
M·ªói l·∫ßn switch tr·∫°ng th√°i ho√†n th√†nh nh∆∞ v·∫≠y s·∫Ω update todos v√† component s·∫Ω ƒë∆∞∆°cj render l·∫°i v·ªõi list todos v·ª´a ƒë∆∞·ª£c update
K·∫øt Lu·∫≠n
React useReducer hook l√† m·ªôt c√°ch h·ªØu √≠ch ƒë·ªÉ qu·∫£n l√Ω state trong React b√™n c·∫°nh useState, v√† n√≥ c√≥ th·ªÉ k·∫øt h·ª£p v·ªõi context d√πng ƒë·ªÉ qu·∫£n l√Ω state trong m·ªôt ·ª©ng d·ª•ng m√† c√≥ th·ªÉ kh√¥ng c·∫ßn s·ª≠ d·ª•ng ƒë·∫øn redux

C·∫£m ∆°n c√°c b·∫°n ƒë√£ d√†nh th·ªùi gian ƒë·ªçc, h√£y ch·ªù b√†i bi·∫øt ti·∫øp theo c·ªßa m√¨nh nh√©




****************************************************************Type vs Interface trong typescript**********************************************************
B√†i ƒëƒÉng n√†y ƒë√£ kh√¥ng ƒë∆∞·ª£c c·∫≠p nh·∫≠t trong 2 nƒÉm

Khi l√†m vi·ªác v·ªõi Typescript,ch√∫ng ta r·∫•t hay b·ªã "B·ªëi r·ªëi" v·ªÅ vi·ªác s·ª≠ d·ª•ng Type v√† interface.Trong b√†i vi·∫øt n√†y m√¨nh s·∫Ω ph√¢n t√≠ch 1 v√†i ƒëi·ªÉm kh√°c nhau gi·ªØa Type v√† Interface.

Typescript n√¢ng cao c·ªßa javascript,t·∫•t nhi√™n r·ªìi ngo√†i nh∆∞ng t√≠nh nƒÉng ƒë√£ c√≥ c·ªßa javascript th√¨ typescript cung c·∫•p cho ch√∫ng ta th√™m r·∫•t nhi·ªÅu t√≠nh nƒÉng kh√°c,ƒëi·ªÉn h√¨nh l√† Static Type.

V·ªÅ c∆° b·∫£n typescript c√≥ 3 lo·∫°i types ch√≠nh ƒë√≥ l√†

Any type
Built in type
User defined type
Interface v√† Type thu·ªôc lo·∫°i th·ª© 3 - User defined type.

1.Khai b√°o
Type

type Shape = {
  name: string;
  color: string;
};

Interface

interface Shape {
   name: string;
  color: string;
}

2.Interface c√≥ th·ªÉ merge c√≤n Type th√¨ kh√¥ng
Trong c√πng 1 file ch√∫ng ta khai b√°o nh∆∞ sau

interface Shape {
   name: string;
}

interface Shape {
  color:string;
}

const Circle:Shape = {
  name:'circle',
  color:'blue'
}

M·ªçi th√¨ ƒë·ªÅu ·ªïn,c√≤n v·ªõi Type th√¨ sao

type Shape {
   name: string;
}

type Shape {
  color:string;
}

const Circle:Shape = {
  name:'circle',
  color:'blue'
}

·ªû ƒë√¢y ch√∫ng ta s·∫Ω nh·∫≠n ƒë∆∞·ª£c l·ªói : "Duplicate identifier 'Shape."

3.Type c√≥ th·ªÉ s·ª≠ d·ª•ng ƒë∆∞·ª£c v·ªõi "Computed Properties" c√≤n interface th√¨ kh√¥ng
Type

type keys = 'color' | 'name';
type Shape = {
  [key in keys]:string;
}
const Circle:Shape = {
  name:'circle',
  color:'res'
}

Interface

type keys = 'color' | 'name';
interface Shape {
  [key in keys]:string;
}
const Circle:Shape = {
  name:'circle',
  color:'res'
}

Ch√∫ng ta s·∫Ω nh·∫≠n ƒë∆∞·ª£c l·ªói A computed property name in an interface must refer to an expression whose type is a literal type or a 'unique symbol' type.

4.Tuples Type
type Tuple = [number, number];

interface ITuple {
  0: number;
  1: number;
}

[1, 2, 3] as Tuple; // Conversion of type '[number, number, number]' to type '[number, number]' may be a mistake

[1, 2, 3] as ITuple; // Ok

5.Type c√≥ Unions type c√≤n interface th√¨ kh√¥ng
Type

type colors = 'blue' | 'green' ;

function setColor(color:colors){

}


Ngo√†i vi·ªác t·ª± ƒë·ªãnh nghƒ©a ra c√°c type ,th√¨ Typescript c≈©ng c·∫•p cho ch√∫ng ta Utility Types r·∫•t h·ªØu d·ª•ng khi l√†m vi·ªáv v·ªõi Legacy code.

T·ªïng K·∫øt
V·∫≠y khi n√†o s·ª≠ d·ª•ng Type v√† khi n√†o s·ª≠ d·ª•ng Interface,c√°i n√†y th√¨ c√° nh√¢n m√¨nh c≈©ng ch∆∞a ph√¢n bi·ªát ƒë∆∞·ª£c r√µ r√†ng üòâ).Theo kinh nghi·ªám l√†m vi·ªác c·ªßa m√¨nh,d√πng Inferface khi :

-B·∫°n vi·∫øt library - v√† cung c·∫•p public Api cho ngu∆∞·ªùi kh√°c d√πng

D√πng type khi :

B·∫°n mu·ªën m·ªôt ƒëi·ªÅu g√¨ ƒë√≥ r√µ r√†ng h∆°n interface